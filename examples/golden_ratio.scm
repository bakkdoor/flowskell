(define phi 1.6180339887)
(define golden-ratio
  (lambda (n)
    (scale 0.7 1.0 1.0)
    (scale 0.9 0.9 0.9)
    (push)
        (translate 0.0 1.0 0.0)
        (scale 1.0 (/ 1.0 phi) 1.0)
        (translate 2.0 -1.0 0.0)
        (rotate 90.0 1.0 0.0 0.0)
        (push)
            (scale 0.8 1.0 1.0)
            (color (sin n) 0.5 0.5)
            (make-cube)
        (pop)
        (if (> n 0) (golden-ratio (- n 1)))
    (pop)
    (push)
        (translate 0.0 -1.0 0.0)
        (scale 1.0 (- 1.0 (/ 1.0 phi)) 1.0)
        (translate 2.0 1.0 0.0)
        (rotate 90.0 1.0 0.0 0.0)
        (push)
            (scale 0.8 1.0 1.0)
            (color (sin n) (cos n) 0.5)
            (make-cube)
        (pop)
        (if (> n 0) (golden-ratio (- n 1)))
    (pop)
  )
)
(define init
  (lambda ()
    (scale 0.2 0.2 0.2)
    (translate 0.0 -1.2 0.0)
    (rotate 90.0 0.0 0.0 1.0)
    (rotate -45.0 0.0 1.0 0.0)
    (rotate (modulo (/ (msecs) 30) 360) 1.0 0.0 0.0)))
(define every-frame
  (lambda ()
    (init)
    (golden-ratio 3)))
